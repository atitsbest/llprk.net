<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" ng-app> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" ng-app> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" ng-app> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" ng-app="ShopApp">
<!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>lillypark [PROTOTYP]</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="description" content="lillypark,Tasche,Taschen,Bag,Sak Saum">

    @Styles.Render("~/Content/shop")
    @Scripts.Render("~/bundles/modernizr")
</head>
<body>
    <!--[if lt IE 8]>
        <p class="chromeframe alert alert-error">
            Hoppla. Du verwendest einen alten Browser. 
            <a href="http://browsehappy.com/">Bring Deinen Browser heute auf den neuesten Stand</a> oder 
            <a href="http://www.google.com/chromeframe/?redirect=true">installiere Google Chrome Frame</a> um dieses Seite richtig anzuzeigen.
        </p>
    <![endif]-->
    <header>
        <div class="container">
            <div class="row">
                <h1 id="logo" style="margin-left:20px;">lillypark</h1>
                <nav class="pull-right">
                    <a href="@Url.Action("index")" class="active">taschen</a>
                    <a href="#">klimbim</a>
                    <a href="#">über uns</a>
                    <a href="#" 
                       style="font-style: italic;" 
                       onclick="$('#cart').toggle();">Warenkorb<span class="badge badge-info" style="display:none;" ng-show="cartItemCount()">{{cartItemCount()}}</span></a>
                </nav>
            </div>
        </div>
    </header>

     <div id="cart" 
              class="popover bottom" 
              ng-controller="CartCtrl" 
              style="left:auto;right:10px;top:65px;">
            <div class="arrow" style="left:auto;right:65px;"></div>
            <h3 class="popover-title">Warenkorb</h3>
            <div class="popover-content">
                <div id="step0" ng-hide="cartItemCount()">
                    <h5>Der Warenkorb ist noch leer ;(</h5>
                </div>
                <div id="step1" class="collapse in" ng-show="cartItemCount()">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Produkt</th>
                                <th>Preis</th>
                                <th style="text-align: right;">Menge</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="(id, item) in items">
                                <td>{{item.Product.Name}}</td>
                                <td>{{item.Product.Price | currency}}</td>
                                <td style="text-align: right;">{{item.Qty}}</td>
                                <td>
                                    <i class="icon-minus-sign" ng-click="remove(item)"></i>
                                    <i class="icon-plus-sign" ng-click="add(item)"></i>

                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <form action="">
                        <p>Wohin sollen wir das schicken?</p>
                        <select name="" id="">
                            <option value="DE">Deutschland (+ €5 Versand)</option>
                            <option value="AT">Österreich (+ €7 Versand)</option>
                        </select>

                        <p>
                            <h4 style="display: inline-block;">Dein Gesamtpreis ist&nbsp;<h4 style="display: inline-block;">{{totalPrice() | currency}}</h4>
                            </h4>
                        </p>
                        <button type="submit" class="btn btn-warning" data-toggle="collapse" data-target="#step2,#step1">Zur Kasse...</button>
                    </form>
                </div>
                <div id="step2" class="collapse out">
                    <p style="font-style:italic;color:#b7b7b7;">Die Rechnung wird an die Email-Adresse verschickt, die Du hier unten angibst. Dem Paket liegt keine Rechnung bei - so kannst Du llprk Produkte auch einfach verschenken.</p>
                    <form name="addressForm" novalidate>
                        <fieldset >
                            <legend>Adresse</legend>

                            <label>Anrede*</label>
                            <input type="text" ng-model="title" required>

                            <label>Vorname* / Name*</label>
                            <input type="text" class="input-small" ng-model="firstname" required>
                            <input type="text" class="input-small" ng-model="name" required>

                            <label>Adresszusatz / Firma</label>
                            <input type="text" ng-model="address1">

                            <label>Strasse, Nr.*</label>
                            <input type="text" ng-model="address2" required>

                            <label>Plz* / Ort*</label>
                            <input type="text" class="input-small" ng-model="zip" required ng-minlength="4">
                            <input type="text" class="input-small" ng-model="city" required>

                            <label>Land</label>
                            <input type="text" ng-model="country" readonly>

                            <label>E-Mail</label>
                            <input type="email" ng-model="email" required>

                            <p ng-show="addressForm.$invalid" style="color: #f33;">
                                Die rot markierten Felder bitte ausfüllen.
                            </p>
                            
                            <hr />
                            <button type="submit" class="btn btn-small" data-toggle="collapse" data-target="#step2,#step1">Zurück</button>
                            <button type="submit" 
                                    class="btn btn-warning" 
                                    ng-click="confirmAddress()"
                                    ng-disabled="addressForm.$invalid"
                                    data-target="#step3,#step2">Weiter...</button>
                        </fieldset>
                    </form>
                </div>
                <div id="step3" class="collapse out">
                    <form>
                        <legend>Zahlungsmethode</legend>
                        <label>
                            <input type="radio" checked style="position:relative;top:-3px;"> Überweisung
                        </label>
                        <p style="font-style:italic;color:#b7b7b7;margin-left:17px;">
                           Derzeit kannst Du nur per Überweisung zahlen. Sobald das Geld auf unserem Konto eingelangt ist verschicken wir Deine Produkte. Bitte überweise an: 
                        </p>
                        <p style="margin-left:17px;">
                            IBAN: 1212-1212-1212-1212<br />
                            BIC: 32-32323-3232
                        </p>
                        <hr />
                        <button type="submit" 
                                class="btn btn-small" 
                                data-toggle="collapse" 
                                data-target="#step3,#step2">Zurück</button>
                        <button type="submit" 
                                class="btn btn-warning" 
                                ng-click="confirmPayment()"
                                data-target="#step3,#step4">Weiter...</button>
                    </form>
                </div>
                <div id="step4" class="collapse out">
                    <form name="summaryForm" ng-submit="submitOrder()">
                        <legend>Bestellübersicht</legend>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Produkt</th>
                                    <th>Preis</th>
                                    <th style="text-align: right;">Menge</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="(id, item) in items">
                                    <td>{{item.Product.Name}}</td>
                                    <td>{{item.Product.Price | currency}}</td>
                                    <td style="text-align: right;">{{item.Qty}}</td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr>
                                    <th>Lieferung:</th>
                                    <td colspan="2">{{5 | currency}}</td>
                                </tr>
                                <tr>
                                    <th>Gesamt</th>
                                    <th colspan="2">{{totalPrice() | currency}}</th>
                                </tr>
                            </tfoot>
                        </table>
                        <p>
                            Bezahlhung per Überweisung.
                        </p>
                        <p>
                            <h5>Lieferung an:</h5>
                            {{title}}<br />
                            {{firstname}} {{name}}<br />
                            {{address1}}<br />
                            {{address2}}<br />
                            {{zip}} {{city}}<br />
                            {{email}}
                        </p>
                        <hr />
                        <label>
                            <input type="checkbox" ng-model="accepted" required />
                            Ich stimme den AGBs zu.
                        </label>
                        <button type="submit" 
                                class="btn btn-small" 
                                data-toggle="collapse"
                                data-target="#step4,#step3">Zurück</button>
                        <button type="submit" 
                                class="btn btn-warning" 
                                ng-disabled="summaryForm.$invalid" 
                                data-target="#step5,#step4">Bestellung abschicken</button>
                    </form>
                </div>
                <div id="step5" class="collapse out">
                    <h5 style="margin-bottom:90px;">Deine Bestellung wird bearbeitet...</h5>
                    <div id="spinner" class="active">
                        <span id="first" class="ball"></span>
                        <span id="second" class="ball"></span>
                        <span id="third" class="ball"></span>
                    </div>
                </div>
            </div>
          </div>

     @RenderBody()


    <footer>
        <div class="container">
            <div class="row">
                <div class="span12 pull-right">
                    <nav>
                        <a href="#">events</a>
                        <a href="#">impressum</a>
                        <a href="http://www.facebook.com/taschenlilly" target="_blank">facebook</a>
                        <a href="#">twitter</a>
                    </nav>
                </div>
            </div>

            <div class="row">
                <div class="span12 pull-right">
                    <p class="copyright">&copy; 2012 lillypark</p>
                </div>
            </div>
        </div>
    </footer>


    @Scripts.Render("~/bundles/shop")

    @RenderSection("scripts", required: false)
</body>
</html>
